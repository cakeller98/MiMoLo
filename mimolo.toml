# MiMoLo Configuration
# See docs for full configuration reference

[monitor]
  # Cooldown duration in seconds - segment closes after this period with no resetting events
  cooldown_seconds = 600.0

  # Polling tick interval in seconds
  poll_tick_s = 0.2

  # Directory for log files (will be created if doesn't exist)
  log_dir = "./logs"

  # Log output format: jsonl (default), yaml, or md
  log_format = "jsonl"

  # Console verbosity: debug, info, warning, error
  console_verbosity = "warning"

# Control (Control Proto / dashboard IPC cadence + retry behavior)
[control]
  # Polling cadence when Operations is reachable.
  status_poll_connected_s = 1.0
  instance_poll_connected_s = 1.0
  log_poll_connected_s = 1.0

  # Polling cadence when Operations is unavailable/disconnected.
  status_poll_disconnected_s = 5.0
  instance_poll_disconnected_s = 5.0
  log_poll_disconnected_s = 5.0

  # IPC reconnect backoff policy.
  ipc_connect_backoff_initial_s = 1.0
  ipc_connect_backoff_extended_s = 5.0
  ipc_connect_backoff_escalate_after = 5

  # Status line update throttling (suppresses repeated identical chatter).
  status_repeat_throttle_connected_s = 0.25
  status_repeat_throttle_disconnected_s = 3.0

  # IPC request / caching timing.
  ipc_request_timeout_s = 1.5
  template_cache_ttl_s = 3.0

  # UI timing.
  indicator_fade_step_s = 0.2
  toast_duration_s = 2.8

  # Operations stop sequencing windows.
  stop_wait_disconnect_timeout_s = 5.0
  stop_wait_disconnect_poll_s = 0.15
  stop_wait_managed_exit_s = 1.0
  stop_wait_graceful_exit_s = 5.0
  stop_wait_forced_exit_s = 1.5

  # Widget cadence defaults in Control.
  widget_auto_tick_s = 0.25
  widget_auto_refresh_default_s = 15.0

# Agent Configuration
journal_dir = "./journals"
cache_dir = "./cache"
main_system_max_cpu_per_plugin = 0.1
agent_heartbeat_timeout_s = 30.0
[plugins.agent_template]
  enabled = true
  plugin_type = "agent"
  executable = "poetry"
  args = ["run", "python", "agent_template/agent_template.py"]
  heartbeat_interval_s = 15.0
  agent_flush_interval_s = 300.0
  launch_in_separate_terminal = false

[plugins.agent_example]
  enabled = true
  plugin_type = "agent"
  executable = "poetry"
  args = ["run", "python", "agent_example/agent_example.py"]
  heartbeat_interval_s = 5.0
  agent_flush_interval_s = 30.0
  launch_in_separate_terminal = false

[plugins.scheming_agent]
  enabled = true
  plugin_type = "agent"
  executable = "poetry"
  args = ["run", "python", "agent_template/agent_template.py"]
  heartbeat_interval_s = 15.0
  agent_flush_interval_s = 300.0
  launch_in_separate_terminal = false

[plugins.Floodgate]
enabled = true
plugin_type = "agent"
executable = "poetry"
args = ["run", "python", "screen_tracker/screen_tracker.py"]
heartbeat_interval_s = 15.0
agent_flush_interval_s = 60.0
launch_in_separate_terminal = false

[plugins.FolderWatcher]
enabled = true
plugin_type = "agent"
executable = "poetry"
args = [
  "run",
  "python",
  "client_folder_activity/client_folder_activity.py",
  "--watch-path",
  "/Users/christopherkeller/Desktop/PROJECTS/CODE_2025/MiMoLo",
]
heartbeat_interval_s = 15.0
agent_flush_interval_s = 60.0
launch_in_separate_terminal = false
